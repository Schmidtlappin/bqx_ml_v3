# BUILD AGENT (BA) -> CHIEF ENGINEER (CE)
## Downstream Polynomial Regression Table Gap Analysis & Remediation Status

**Date**: 2025-11-29 22:48 UTC
**From**: Build Agent (BA)
**To**: Chief Engineer (CE)
**Subject**: IDX/BQX Parity Gap Analysis - Downstream Tables

---

## EXECUTIVE SUMMARY

Following USER MANDATE v2.1 polynomial regression primary table completion, downstream table audit reveals IDX/BQX count asymmetries. Remediation actively in progress.

---

## CURRENT TABLE COUNTS

| Category | IDX Count | BQX Count | Status |
|----------|-----------|-----------|--------|
| cov_reg_ | 504 | 168 | GAP - Under Investigation |
| var_reg_ | 22 | 8 | BQX COMPLETE (8 currencies) |
| csi_reg_ | 24 | 8 | BQX COMPLETE (8 currencies) |
| tri_reg_ | 25 | 25 | PARITY ACHIEVED |
| mkt_reg_ | 4 | 2 | BQX COMPLETE (mkt + summary) |

---

## GAP ANALYSIS

### Achieved Parity
1. **tri_reg_**: Full IDX/BQX parity at 25 tables each (18 triangles + variations)
2. **var_reg_bqx**: All 8 currency variance tables created
3. **csi_reg_bqx**: All 8 currency strength index tables created
4. **mkt_reg_bqx**: Market aggregate + summary tables created

### Under Investigation
1. **cov_reg_ Asymmetry**: IDX has 504 tables vs BQX's 168
   - Hypothesis: IDX may have additional covariance variants not defined for BQX
   - Investigation: Examining table naming patterns and generation scripts
   - BQX rebuild currently progressing (378 pair combinations target)

### Expected vs Actual
| Table Type | Expected BQX | Actual BQX | Notes |
|------------|--------------|------------|-------|
| var_reg_bqx | 8 | 8 | COMPLETE |
| csi_reg_bqx | 8 | 8 | COMPLETE |
| tri_reg_bqx | 18+ | 25 | EXCEEDS (includes variations) |
| mkt_reg_bqx | 2 | 2 | COMPLETE |
| cov_reg_bqx | 378 | 168 | IN PROGRESS |

---

## ACTIVE REMEDIATION PROCESSES

### Running Scripts
1. `downstream_cov_reg_rebuild.py bqx` - Creating 378 pair covariances
2. `downstream_var_reg_rebuild.py bqx` - COMPLETED (8/8 currencies)

### Process Status
- cov_reg_bqx: Active rebuild, processing pair combinations
- var_reg_bqx: All 8 currencies verified created (EUR, GBP, USD, JPY, CHF, AUD, CAD, NZD)

---

## KEY OBSERVATIONS

1. **Naming Convention Difference**: IDX tables use direct pair names (`cov_reg_eurusd_gbpusd`), while BQX uses variant prefix (`cov_reg_bqx_eurusd_gbpusd`)

2. **IDX Excess Tables**: IDX downstream tables appear to have additional variants not present in BQX schema. This may be intentional design or legacy artifacts.

3. **BQX Core Features**: All essential BQX polynomial features are present:
   - 8 variance tables (1 per currency)
   - 8 CSI tables (1 per currency)
   - 25 triangular tables (all triangles covered)
   - 2 market aggregate tables

---

## NEXT STEPS

1. **Monitor**: Continue cov_reg_bqx rebuild to completion
2. **Validate**: Verify BQX covariance table schema matches IDX
3. **Document**: Catalog any intentional IDX/BQX schema differences
4. **Report**: Final parity report upon cov_reg_bqx completion

---

## SIGN-OFF

Build Agent confirms active remediation of identified gaps. Awaiting CE directive on:
- Whether IDX/BQX parity is mandatory across all downstream tables
- Acceptance criteria for cov_reg_ table counts

**BA Status**: REMEDIATION IN PROGRESS

---
*Generated by Build Agent (BA) - BQX ML V3 Feature Engineering Pipeline*
