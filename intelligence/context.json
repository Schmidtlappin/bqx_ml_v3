{
  "project": {
    "name": "BQX ML V3",
    "version": "3.0.0",
    "description": "28 independent machine learning models for forex momentum prediction using BQX paradigm",
    "repository": "https://github.com/Schmidtlappin/bqx_ml_v3",
    "owner": "Schmidtlappin",
    "created": "2024-11-24",
    "last_updated": "2025-11-29"
  },
  "paradigm": {
    "name": "BQX Momentum Prediction",
    "description": "BQX values serve as BOTH features AND targets for autoregressive prediction",
    "paradigm_shift_date": "2024-11-24",
    "core_principle": "Historical BQX values contain momentum signals that predict future BQX"
  },
  "architecture": {
    "type": "Independent Model Architecture",
    "model_count": 28,
    "model_scope": "One model per currency pair",
    "isolation": "Complete - no cross-pair contamination",
    "computation": "Interval-centric using ROWS BETWEEN only"
  },
  "infrastructure": {
    "cloud": {
      "provider": "Google Cloud Platform",
      "project_id": "bqx-ml",
      "compute_instance": "bqx-ml-master",
      "zone": "us-east1-b",
      "ip": "34.148.152.67"
    },
    "data": {
      "warehouse": "BigQuery",
      "location": "us-central1",
      "migration_date": "2025-11-28",
      "tables": 504,
      "mandate_target": 1736,
      "datasets": {
        "bqx_bq_uscen1": "Raw m1 OHLCV data (804 tables)",
        "bqx_ml_v3_features": "Engineered features (504 tables)",
        "bqx_ml_v3_models": "Trained models (15 models - EURUSD:8, GBPUSD:7)",
        "bqx_ml_v3_predictions": "Model predictions (0 tables - pending)",
        "bqx_ml_v3_analytics": "Performance metrics (0 tables - pending)",
        "bqx_ml_v3_staging": "Temporary processing (0 tables)"
      }
    },
    "project_management": {
      "tool": "AirTable",
      "project_id": "MP03",
      "base_id": "appR3PPnrNkVo48mO",
      "phases": 11,
      "stages": 70,
      "completion": "29%"
    },
    "version_control": {
      "platform": "GitHub",
      "repository": "Schmidtlappin/bqx_ml_v3",
      "branch": "main",
      "secrets": 4
    },
    "backup": {
      "purpose": "Disaster recovery and business continuity",
      "mandate_reference": "/intelligence/backup_mandate.json",
      "working_backup": {
        "provider": "Google Drive",
        "remote": "gdrive:bqx_ml_v3",
        "tool": "rclone",
        "script": "scripts/sync-bqx-project.sh",
        "role": "Working backup - FILES ONLY",
        "limitations": "Storage quota limits, part of GCP infrastructure",
        "disaster_recovery": false,
        "status": "ACTIVE"
      },
      "disaster_recovery": {
        "provider": "Box.com",
        "folder_id": "353414610676",
        "folder_name": "bqx-ml-v3",
        "auth_method": "JWT",
        "tool": "Box SDK (box_sdk_gen)",
        "scripts": {
          "files": "scripts/sync-box-backup.py",
          "bigquery": "scripts/export-bq-to-box.py"
        },
        "role": "TRUE disaster recovery - FILES AND BigQuery tables",
        "advantages": "Unlimited storage, independent from GCP",
        "disaster_recovery": true,
        "status": "ACTIVE",
        "configured_date": "2025-11-28"
      },
      "cloud_run_automation": {
        "service_name": "bq-to-box-sync",
        "service_url": "https://bq-to-box-sync-499681702492.us-central1.run.app",
        "container_image": "gcr.io/bqx-ml/bq-to-box-sync:latest",
        "region": "us-central1",
        "service_account": "bq-to-box-sync@bqx-ml.iam.gserviceaccount.com",
        "memory": "2Gi",
        "timeout": "3600s",
        "status": "DEPLOYED",
        "deployed_date": "2025-11-29",
        "scheduled_jobs": {
          "bq-to-box-models": "Daily 2 AM UTC (bqx_ml_v3_models)",
          "bq-to-box-features": "Weekly Sunday 3 AM UTC (bqx_ml_v3_features)",
          "bq-to-box-predictions": "Weekly Monday 4 AM UTC (bqx_ml_v3_predictions)",
          "bq-to-box-analytics": "Monthly 1st 5 AM UTC (bqx_ml_v3_analytics)"
        },
        "cost_monthly": "$0.40-3.24",
        "documentation": "/docs/CLOUD_RUN_BOX_BACKUP.md"
      },
      "sync_protocol": {
        "on_user_request": "Sync files to BOTH GDrive AND Box.com",
        "automated_bigquery": "Cloud Run exports BQ tables to Box.com on schedule (ACTIVE)",
        "bigquery_backup": "Export BQ tables to Box.com ONLY (too large for GDrive)"
      },
      "execution_model": {
        "file_sync": "Fast (minutes) - non-blocking",
        "bigquery_backup_manual": "Background process (4-8 hours) - non-blocking",
        "bigquery_backup_automated": "Cloud Run scheduled exports - fully automated"
      },
      "key_rationale": "GDrive is part of GCP - if GCP fails, GDrive may be inaccessible. Box.com is completely independent and can store TB-scale BQ exports."
    }
  },
  "currency_pairs": [
    "EURUSD", "GBPUSD", "USDJPY", "USDCHF", "AUDUSD", "USDCAD", "NZDUSD",
    "EURGBP", "EURJPY", "EURCHF", "EURAUD", "EURCAD", "EURNZD",
    "GBPJPY", "GBPCHF", "GBPAUD", "GBPCAD", "GBPNZD",
    "AUDJPY", "AUDCHF", "AUDCAD", "AUDNZD",
    "NZDJPY", "NZDCHF", "NZDCAD",
    "CADJPY", "CADCHF",
    "CHFJPY"
  ],
  "team": {
    "role": "BQXML Chief Engineer",
    "environment": "bqx-ml-master GCP instance",
    "primary_tools": ["Python", "BigQuery", "Vertex AI", "AirTable", "Claude Code"]
  },
  "current_phase": {
    "phase": "Phase 1B",
    "name": "BQX Dual Architecture Completion",
    "status": "Complete",
    "completion_date": "2025-11-28",
    "next_milestone": "Phase 2: Additional Feature Types or Model Training"
  },
  "recent_milestones": {
    "2025-11-29": [
      "Deployed BQ-to-Box Cloud Run service for automated disaster recovery",
      "Created Cloud Scheduler jobs for BigQuery table exports",
      "Service URL: https://bq-to-box-sync-499681702492.us-central1.run.app",
      "Scheduled backups: models (daily), features (weekly), predictions (weekly), analytics (monthly)",
      "Cost estimate: $0.40-3.24/month"
    ],
    "2025-11-28": [
      "Completed BigQuery migration to us-central1 (2,463 tables)",
      "Phase 0: Migration and infrastructure optimization (40-95x performance gain)",
      "Phase 1: Primary features (LAG, REGIME, Correlation IDX variants)",
      "Phase 1B: BQX dual variants (lag_bqx_*, regime_bqx_*)",
      "Discovered and remediated BQX/IDX data mismatch",
      "Dual architecture: 100% complete",
      "Total tables created: 540 (31% of mandate)"
    ],
    "2024-11-24": [
      "BQX paradigm shift: BQX as both features AND targets",
      "Project inception and architecture design"
    ]
  },
  "critical_context": {
    "data_quality": {
      "idx_tables": "Real historical data (2.17M rows per pair, 6 years)",
      "bqx_tables": "Regenerated from IDX (2.17M rows per pair, matching IDX)",
      "dual_architecture": "100% complete - IDX and BQX tables mirror each other",
      "data_parity": "Achieved 2025-11-28"
    },
    "mandate_compliance": {
      "table_completion": "29% (504 of 1,736)",
      "feature_types": "3 of 8 (LAG, REGIME, Correlation)",
      "centric_perspectives": "1 of 6 (Primary-Centric only)",
      "dual_architecture": "100% for completed features",
      "models_trained": "15 of 196 (7.7%)",
      "accuracy_target": "90%+ directional (not yet measured)"
    },
    "performance": {
      "migration_speedup": "40-95x faster execution in us-central1",
      "phase_1_execution": "53 minutes (vs 28-40 hour estimate)",
      "phase_1b_execution": "3 minutes (vs 10-18 minute estimate)"
    }
  }
}
